<?php
    use src\Diretorio;
    include (Diretorio::diretorio . "financeiro/vendor/MF/View/DataExtract.php");
?>

<html lang="pt-br">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title><?= $this->view->settings['title'] ?? $this->empresa; ?></title>

        <link rel="stylesheet" href="<?= Diretorio::getBaseUrl() ?>/css/bootstrap.css">
        <link rel="stylesheet" href="<?= Diretorio::getBaseUrl() ?>/css/custom.css">
        <link rel="stylesheet" href="<?= Diretorio::getBaseUrl() ?>/css/media-query.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    </head>

    <body class="bg-light">
        <div class="container">
            <div class="row justify-content-center align-items-center min-vh-100">
                <div class="col-md-6 col-lg-5">
                    <div class="card shadow-lg border-0 rounded-4">
                        <div class="card-body p-5">
                            <div class="text-center mb-4">
                                <div class="logo mb-3">
                                    <img src="https://img.freepik.com/fotos-gratis/show-de-fontes-de-arco-iris-na-expo-bridge-na-coreia-do-sul_335224-487.jpg?t=st=1736901091~exp=1736904691~hmac=7309001d50eaf8f238981a2c24456f4ac225a5ea6e402643511d1fd814d0c3b1&w=1060"
                                         alt="Logo" 
                                         class="img-fluid rounded-circle" 
                                         style="width: 100px; height: 100px; object-fit: cover;">
                                </div>
                                <h3 class="fw-bold text-primary"><?= $this->empresa; ?></h3>
                            </div>

                            <form method="post" action="<?= $action; ?>">
                                <div class="mb-3">
                                    <label for="login" class="form-label">Login</label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                                        <input type="text" 
                                               class="form-control form-control-lg" 
                                               name="login" 
                                               id="login" 
                                               placeholder="Digite seu login">
                                    </div>
                                </div>

                                <div class="mb-4">
                                    <label for="pwd" class="form-label">Senha</label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
                                        <input type="password" 
                                               class="form-control form-control-lg" 
                                               name="senha" 
                                               id="pwd" 
                                               placeholder="Digite sua senha">
                                    </div>
                                </div>

                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-primary btn-lg fw-bold">Entrar</button>
                                </div>

                                <?php if (isset($mensagem)): ?>
                                    <div class="alert alert-danger mt-3 text-center">
                                        <?= $mensagem ?>
                                    </div>
                                <?php endif; ?>

                                <div class="text-center mt-4">
                                    <small class="text-muted"><?= $this->sys_version; ?></small>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="text-center mt-2">
                        <a href="<?= $url_primeiro_acesso; ?>">
                            <button type="button" class="btn btn-outline-secondary">Primeiro acesso?</button>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <?php require_once ('view_bottom.php'); ?>

</html>